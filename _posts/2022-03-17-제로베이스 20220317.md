---
title: "제로베이스 20220317"
date: 2022-03-17T18:30:00-04:00
categories:
  - '2022-03 TIL'
tags:
  - '20220317'
  - '제로베이스'
  - '제로베이스 데이터사이언스 스쿨'
  - '자료구조'
  - '그래프'

published: true
---

# 코딩테스트 연습

# 1. [다각형개수](https://www.acmicpc.net/problem/2019)

* 정수 좌표로 이루어진 선분들의 정보를 입력받아 이 선분들의 좌표를 실제로 도화지에 그린다면, 이 그림은 모두 몇 개의 다각형으로 이루어져 있는지를 알려주는 프로그램을 작성하시오.

	![이미지](https://www.acmicpc.net/JudgeOnline/upload/201007/polu.png)

* 여기서 말하는 다각형이란 각 변이 세 개 이상의 직선으로 이루어진 단일폐도형을 말하며, 두 다각형이 겹치게 되면서 생기는 부분에 대한 도형은 다각형으로 인정하지 않는다.
	* 즉, 입력된 좌표로 구성된 선분들만을 이용해서 만들어진 다각형만을 인정한다.

	* 만약 다각형에 그 다각형을 이루지 않는 선분이 연결되어 있으면 다각형이 아니라고 판단한다.

* 예를 들어 입력으로 들어온 선분을 종이 위에 그려봤을 때, 위 그림과 같이 그려졌다면 2가지 다각형이 존재하는 것이고, 답으로 2를 출력하면 된다.

## 입력

* 첫째 줄에는 선분의 개수 N(1 ≤ N ≤ 60)이 들어온다. 

* 다음에는 각 선분의 좌표가 N줄에 걸쳐서 입력으로 들어온다.

* 선분의 좌표는 "(한 쪽 끝점의 가로 좌표, 세로 좌표, 다른 쪽 끝점의 가로 좌표, 세로 좌표)"의 순서로 들어오며, 한 줄에 하나의 선분에 관한 정보가 들어온다. 좌표의 범위는 10,000 이하의 음이 아닌 정수이다.

## 출력

* 첫째 줄에 다각형의 개수를 출력하시오.

## 풀이

```py
# your code goes here
 
import sys
 
# 첫째 줄에는 선분의 개수 N(1 ≤ N ≤ 60)이 들어온다.
 
N = int(sys.stdin.readline())
 
# 다음에는 각 선분의 좌표가 N줄에 걸쳐서 입력으로 들어온다. 
 
graph = {} 
 
for _ in range(0,N):
	# (Xi,Yi), (Xj,Yj)의 순서로 들어오며,
	# 한 줄에 하나의 선분에 관한 정보가 들어온다. 
 
	Xi,Yi,Xj,Yj = list(map(int,sys.stdin.readline().split()))
 
	# 각 도형이 다각형을 이루어야 한다 => 각 점에 이어진 선분이 2개 뿐이어야 한다.
	# 다각형에 다각형을 이루지 않는 선이 있을시 인정하지 않는다 => 위와 같음.
 
	p1 = [Xi,Yi]
	p2 = [Xj,Yj]
 
	str1 = str(Xi)+','+str(Yi)
	str2 = str(Xj)+','+str(Yj)
 
	# 그래프 형성
	if str1 not in graph:
		graph[str1] = [p2]
	else:
		graph[str1].append(p2)
 
	if str2 not in graph:
		graph[str2] = [p1]
	else:
		graph[str2].append(p1)
 
 
tmp = graph.copy()
 
for point,connected in graph.items():
	if len(connected) != 2:
		del tmp[point]
 
graph = tmp
tmp = graph.copy()
 
# 연결된 점이 두곳인 점들의 집합.
for point,connected in graph.items():
	str1 = str(connected[0][0]) + ',' + str(connected[0][1])
	str2 = str(connected[1][0]) + ',' + str(connected[1][1])
 
	# 다각형을 이루지 않지만, 연결된 점이 두곳인 점들을 제거한다.
	if not ((str1 in graph) and (str2 in graph)):
		del tmp[point]
 
graph = tmp
 
 
# 다각형을 이루는 점들의 집합.
 
 
# 점 추적
# 시작점을 주고, 연결된 하나의 정점을 따라서 추적. 이전의 점을 기억함.
# 다음 점이 시작점일때, 지금까지 지나온 모든 점을 하나의 다각형으로 저장.
 
def chase_point(start_idx,prev_idx,trace,graph):
	next_idx = str(graph[prev_idx][1][0]) + ',' + str(graph[prev_idx][1][1])
	if next_idx in trace:
		next_idx = str(graph[prev_idx][0][0]) + ',' + str(graph[prev_idx][0][1])
	trace.append(next_idx)
	if next_idx == start_idx:
		return trace
	else:
		chase_point(start_idx,next_idx,trace,graph)
	
	return trace
 
cnt = 0
fig = []
while(len(graph.items()) > 0):
	fig = chase_point(next(iter(graph.items()))[0],next(iter(graph.items()))[0],[next(iter(graph.items()))[0]],graph)
	for f in fig[1:]:
		del tmp[f]
	cnt += 1
	graph = tmp

print(cnt)
```

## 채점 결과

* 오답
* 처음 보고 ```다각형 = 간선 두개만 연결된 점들의 집합```을 떠올려 그래프로 풀겠다는 판단까지는 맞았다.

	* 다만, bfs등의 개념이 부실해서 코드가 난잡하게 작성되었고, 그 과정에 오류가 발생한것 같아 개념을 다시 정리하기로 했다.



